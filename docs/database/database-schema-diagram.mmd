erDiagram
    authors {
        bigint id PK
        varchar name
        text bio
        varchar image_url
        varchar email
        boolean is_verified
        boolean is_active
    }

    plans {
        bigint id PK
        varchar title
        text description
        bigint author_id FK
        difficulty_level difficulty_level
        jsonb tags
        boolean featured
        boolean is_active
        varchar language
        varchar image_url
    }

    plan_items {
        bigint id PK
        bigint plan_id FK
        integer day_number
    }

    tasks {
        bigint id PK
        bigint plan_item_id FK
        text title
        content_type content_type
        text content
        integer display_order
        integer estimated_time
        boolean is_required
    }

    user_plan_progress {
        bigint id PK
        bigint user_id
        bigint plan_id FK
        timestamp started_at
        integer streak_count
        integer longest_streak
        user_plan_status status
        boolean is_completed
        timestamp completed_at
    }

    favorites {
        bigint id PK
        bigint user_id
        bigint plan_id FK
        timestamp created_at
    }

    plan_reviews {
        bigint id PK
        bigint plan_id FK
        bigint user_id
        integer rating
        text review_text
        boolean is_approved
    }

    authors ||--o{ plans : creates
    plans ||--o{ plan_items : contains
    plan_items ||--o{ tasks : includes
    plans ||--o{ user_plan_progress : tracks
    plans ||--o{ plan_reviews : receives
    plans ||--o{ favorites : bookmarked_in
    tasks ||--o{ user_task_completion : completed_by 